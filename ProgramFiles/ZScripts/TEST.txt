


//[IButton, "Copy Name", "COPY NAME CURRENT SUBTOOL"
//,
//
//	[If, ! [MemGetSize, SUBTOOLNAME],
//	 		[MemCreate, SUBTOOLNAME, 256 /* size */ ]]
//
//
//	[VarSet, subtoolNameCurrent, [FileNameExtract, [GetActiveToolPath], 2]]
//
//
//	[MemWriteString, SUBTOOLNAME, subtoolNameCurrent /* value */ ]
//
//
//,/*Disabled*/,96,/*Hotkey*/,/*Icon*/, /*width*/]
//
//
///* Paste Current Subtool Name
//*/
//[IButton, "Paste Name", "PASTE NAME CURRENT SUBTOOL"
//,
//
//	[If, [MemGetSize, SUBTOOLNAME]
//	, // THEN memory exists
//
//		[VarDef, memoryString ]
//
//		[MemReadString, SUBTOOLNAME, memoryString ]
//
//		//[RoutineCall, renameSubtool, memoryString ]
//
//		[Note, memoryString,, 0]
//
//
//	]
//
//
//,/*Disabled*/,96,/*Hotkey*/,/*Icon*/, /*width*/]
//
//
//

[VarDef, OUTPUT, 1]


[RoutineDef, SubToolIsVisible,
	[VarSet, isVisible, 0]
	[VarSet, index,[SubToolGetActiveIndex]]
	[VarSet, subtool,[SubToolGetStatus, index]]
	[VarSet, folderIndex,[SubToolGetFolderIndex, index]]

	[If,(folderIndex > -1),
		//folder
		[VarSet,subtoolFolder,[SubToolGetStatus,folderIndex]]// for folder visibility

		[If,([Val,subtoolFolder]&0x2 == 0x2)&&([Val,subtool]&0x1 == 0x1),
			[VarSet,isVisible,1]
			[SubToolSetStatus, index, 0x2]
		]

		,//not a folder
		[If,([Val,subtool]&0x1 == 0x1),
			[VarSet,isVisible,1]
			[SubToolSetStatus, index, 0x0]
			,//else
			[VarSet,isVisible,0]
			[SubToolSetStatus, index, 0x1]
		]
	]

,isVisible]



[IButton, RECORDED, "",
[IConfig,2022]

	//[Note, [StrMerge, "SubToolGetCount: ", [SubToolGetCount] ] ]
	//[Loop, [SubToolGetCount],
	//	[SubToolSelect, n]
	//	[VarSet, subtoolTitle, [IGetTitle, "Tool:subtool:Current Tool"]]
	//	[Note, [StrMerge, "subtoolTitle: ", subtoolTitle ] ]
	//	//[VarSet, status, 0]
	//	//[RoutineCall, SubToolIsVisible, status]
	//	//[If, OUTPUT, [Note, [StrMerge, subtoolTitle, " > " , status, "\n"],,-1]]
	//,n]
	//[If, OUTPUT, [Note, ]]


	//[If, [SubToolGetCount] > 10
	//, // THEN
	//
	//	[VarSet, activeInex, [SubToolGetActiveIndex]]
	//
	//	[SubToolSelect, [SubToolGetCount] - 1 ]
	//
	//	[VarSet, lastFolderIndex, [SubToolGetFolderIndex]]
	//
	//	[If, lastFolderIndex == -1, // THEN
	//		[VarSet, lastFolderIndex, 5]]
	//
	//	[SubToolSelect, activeInex ]
	//
	//	[ISet,Tool:SubTool:Visible Count, [SubToolGetCount] + lastFolderIndex + 5 ]
	//
	//	[ISet,Tool:SubTool:Subtool Scrollbar, 0,21 ]
	//
	//, // ELSE
	//	[ISet,Tool:SubTool:Visible Count, 10 ]
	//]

		[ISet,Tool:SubTool:Visible Count, [SubToolGetCount] + 5 ]
		[ISet,Tool:SubTool:Subtool Scrollbar, 0,21 ]



,/*Disabled*/, 256 ,/*Hotkey*/,/*Icon*/,64]


























